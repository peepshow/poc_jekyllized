"use strict";console.log("Hello world!"),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){function e(e){return!e.nodeName||-1!==t.inArray(e.nodeName.toLowerCase(),["iframe","#document","html","body"])}function i(e){return t.isFunction(e)||t.isPlainObject(e)?e:{top:e,left:e}}var n=t.scrollTo=function(e,i,n){return t(window).scrollTo(e,i,n)};return n.defaults={axis:"xy",duration:0,limit:!0},t.fn.scrollTo=function(r,o,s){"object"==typeof o&&(s=o,o=0),"function"==typeof s&&(s={onAfter:s}),"max"===r&&(r=9e9),s=t.extend({},n.defaults,s),o=o||s.duration;var a=s.queue&&1<s.axis.length;return a&&(o/=2),s.offset=i(s.offset),s.over=i(s.over),this.each(function(){function l(e){var i=t.extend({},s,{queue:!0,duration:o,complete:e&&function(){e.call(u,f,s)}});d.animate(p,i)}if(null!==r){var c,h=e(this),u=h?this.contentWindow||window:this,d=t(u),f=r,p={};switch(typeof f){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(f)){f=i(f);break}if(f=h?t(f):t(f,u),!f.length)return;case"object":(f.is||f.style)&&(c=(f=t(f)).offset())}var g=t.isFunction(s.offset)&&s.offset(u,f)||s.offset;t.each(s.axis.split(""),function(t,e){var i="x"===e?"Left":"Top",r=i.toLowerCase(),o="scroll"+i,m=d[o](),v=n.max(u,e);c?(p[o]=c[r]+(h?0:m-d.offset()[r]),s.margin&&(p[o]-=parseInt(f.css("margin"+i),10)||0,p[o]-=parseInt(f.css("border"+i+"Width"),10)||0),p[o]+=g[r]||0,s.over[r]&&(p[o]+=f["x"===e?"width":"height"]()*s.over[r])):(i=f[r],p[o]=i.slice&&"%"===i.slice(-1)?parseFloat(i)/100*v:i),s.limit&&/^\d+$/.test(p[o])&&(p[o]=0>=p[o]?0:Math.min(p[o],v)),!t&&1<s.axis.length&&(m===p[o]?p={}:a&&(l(s.onAfterFirst),p={}))}),l(s.onAfter)}})},n.max=function(i,n){var r="x"===n?"Width":"Height",o="scroll"+r;if(!e(i))return i[o]-t(i)[r.toLowerCase()]();var r="client"+r,s=i.ownerDocument||i.document,a=s.documentElement,s=s.body;return Math.max(a[o],s[o])-Math.min(a[r],s[r])},t.Tween.propHooks.scrollLeft=t.Tween.propHooks.scrollTop={get:function(e){return t(e.elem)[e.prop]()},set:function(e){var i=this.get(e);if(e.options.interrupt&&e._last&&e._last!==i)return t(e.elem).stop();var n=Math.round(e.now);i!==n&&(t(e.elem)[e.prop](n),e._last=this.get(e))}},n}),function(t,e,i,n){function r(e,i){this.element=e,this.$context=t(e).data("api",this),this.$layers=this.$context.find(".layer");var n={calibrateX:this.$context.data("calibrate-x")||null,calibrateY:this.$context.data("calibrate-y")||null,invertX:this.$context.data("invert-x")||null,invertY:this.$context.data("invert-y")||null,limitX:parseFloat(this.$context.data("limit-x"))||null,limitY:parseFloat(this.$context.data("limit-y"))||null,scalarX:parseFloat(this.$context.data("scalar-x"))||null,scalarY:parseFloat(this.$context.data("scalar-y"))||null,frictionX:parseFloat(this.$context.data("friction-x"))||null,frictionY:parseFloat(this.$context.data("friction-y"))||null,originX:parseFloat(this.$context.data("origin-x"))||null,originY:parseFloat(this.$context.data("origin-y"))||null};for(var r in n)null===n[r]&&delete n[r];t.extend(this,a,i,n),this.calibrationTimer=null,this.calibrationFlag=!0,this.enabled=!1,this.depths=[],this.raf=null,this.bounds=null,this.ex=0,this.ey=0,this.ew=0,this.eh=0,this.ecx=0,this.ecy=0,this.erx=0,this.ery=0,this.cx=0,this.cy=0,this.ix=0,this.iy=0,this.mx=0,this.my=0,this.vx=0,this.vy=0,this.onMouseMove=this.onMouseMove.bind(this),this.onDeviceOrientation=this.onDeviceOrientation.bind(this),this.onOrientationTimer=this.onOrientationTimer.bind(this),this.onCalibrationTimer=this.onCalibrationTimer.bind(this),this.onAnimationFrame=this.onAnimationFrame.bind(this),this.onWindowResize=this.onWindowResize.bind(this),this.initialise()}var o="parallax",s=30,a={relativeInput:!1,clipRelativeInput:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:10,scalarY:10,frictionX:.1,frictionY:.1,originX:.5,originY:.5};r.prototype.transformSupport=function(t){for(var r=i.createElement("div"),o=!1,s=null,a=!1,l=null,c=null,h=0,u=this.vendors.length;u>h;h++)if(null!==this.vendors[h]?(l=this.vendors[h][0]+"transform",c=this.vendors[h][1]+"Transform"):(l="transform",c="transform"),r.style[c]!==n){o=!0;break}switch(t){case"2D":a=o;break;case"3D":if(o){var d=i.body||i.createElement("body"),f=i.documentElement,p=f.style.overflow;i.body||(f.style.overflow="hidden",f.appendChild(d),d.style.overflow="hidden",d.style.background=""),d.appendChild(r),r.style[c]="translate3d(1px,1px,1px)",s=e.getComputedStyle(r).getPropertyValue(l),a=s!==n&&s.length>0&&"none"!==s,f.style.overflow=p,d.removeChild(r)}}return a},r.prototype.ww=null,r.prototype.wh=null,r.prototype.wcx=null,r.prototype.wcy=null,r.prototype.wrx=null,r.prototype.wry=null,r.prototype.portrait=null,r.prototype.desktop=!navigator.userAgent.match(/(iPhone|iPod|iPad|Android|BlackBerry|BB10|mobi|tablet|opera mini|nexus 7)/i),r.prototype.vendors=[null,["-webkit-","webkit"],["-moz-","Moz"],["-o-","O"],["-ms-","ms"]],r.prototype.motionSupport=!!e.DeviceMotionEvent,r.prototype.orientationSupport=!!e.DeviceOrientationEvent,r.prototype.orientationStatus=0,r.prototype.transform2DSupport=r.prototype.transformSupport("2D"),r.prototype.transform3DSupport=r.prototype.transformSupport("3D"),r.prototype.propertyCache={},r.prototype.initialise=function(){"static"===this.$context.css("position")&&this.$context.css({position:"relative"}),this.accelerate(this.$context),this.updateLayers(),this.updateDimensions(),this.enable(),this.queueCalibration(this.calibrationDelay)},r.prototype.updateLayers=function(){this.$layers=this.$context.find(".layer"),this.depths=[],this.$layers.css({position:"absolute",display:"block",left:0,top:0}),this.$layers.first().css({position:"relative"}),this.accelerate(this.$layers),this.$layers.each(t.proxy(function(e,i){this.depths.push(t(i).data("depth")||0)},this))},r.prototype.updateDimensions=function(){this.ww=e.innerWidth,this.wh=e.innerHeight,this.wcx=this.ww*this.originX,this.wcy=this.wh*this.originY,this.wrx=Math.max(this.wcx,this.ww-this.wcx),this.wry=Math.max(this.wcy,this.wh-this.wcy)},r.prototype.updateBounds=function(){this.bounds=this.element.getBoundingClientRect(),this.ex=this.bounds.left,this.ey=this.bounds.top,this.ew=this.bounds.width,this.eh=this.bounds.height,this.ecx=this.ew*this.originX,this.ecy=this.eh*this.originY,this.erx=Math.max(this.ecx,this.ew-this.ecx),this.ery=Math.max(this.ecy,this.eh-this.ecy)},r.prototype.queueCalibration=function(t){clearTimeout(this.calibrationTimer),this.calibrationTimer=setTimeout(this.onCalibrationTimer,t)},r.prototype.enable=function(){this.enabled||(this.enabled=!0,this.orientationSupport?(this.portrait=null,e.addEventListener("deviceorientation",this.onDeviceOrientation),setTimeout(this.onOrientationTimer,this.supportDelay)):(this.cx=0,this.cy=0,this.portrait=!1,e.addEventListener("mousemove",this.onMouseMove)),e.addEventListener("resize",this.onWindowResize),this.raf=requestAnimationFrame(this.onAnimationFrame))},r.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.orientationSupport?e.removeEventListener("deviceorientation",this.onDeviceOrientation):e.removeEventListener("mousemove",this.onMouseMove),e.removeEventListener("resize",this.onWindowResize),cancelAnimationFrame(this.raf))},r.prototype.calibrate=function(t,e){this.calibrateX=t===n?this.calibrateX:t,this.calibrateY=e===n?this.calibrateY:e},r.prototype.invert=function(t,e){this.invertX=t===n?this.invertX:t,this.invertY=e===n?this.invertY:e},r.prototype.friction=function(t,e){this.frictionX=t===n?this.frictionX:t,this.frictionY=e===n?this.frictionY:e},r.prototype.scalar=function(t,e){this.scalarX=t===n?this.scalarX:t,this.scalarY=e===n?this.scalarY:e},r.prototype.limit=function(t,e){this.limitX=t===n?this.limitX:t,this.limitY=e===n?this.limitY:e},r.prototype.origin=function(t,e){this.originX=t===n?this.originX:t,this.originY=e===n?this.originY:e},r.prototype.clamp=function(t,e,i){return t=Math.max(t,e),t=Math.min(t,i)},r.prototype.css=function(e,i,r){var o=this.propertyCache[i];if(!o)for(var s=0,a=this.vendors.length;a>s;s++)if(o=null!==this.vendors[s]?t.camelCase(this.vendors[s][1]+"-"+i):i,e.style[o]!==n){this.propertyCache[i]=o;break}e.style[o]=r},r.prototype.accelerate=function(t){for(var e=0,i=t.length;i>e;e++){var n=t[e];this.css(n,"transform","translate3d(0,0,0)"),this.css(n,"transform-style","preserve-3d"),this.css(n,"backface-visibility","hidden")}},r.prototype.setPosition=function(t,e,i){e+="px",i+="px",this.transform3DSupport?this.css(t,"transform","translate3d("+e+","+i+",0)"):this.transform2DSupport?this.css(t,"transform","translate("+e+","+i+")"):(t.style.left=e,t.style.top=i)},r.prototype.onOrientationTimer=function(t){this.orientationSupport&&0===this.orientationStatus&&(this.disable(),this.orientationSupport=!1,this.enable())},r.prototype.onCalibrationTimer=function(t){this.calibrationFlag=!0},r.prototype.onWindowResize=function(t){this.updateDimensions()},r.prototype.onAnimationFrame=function(){this.updateBounds();var t=this.ix-this.cx,e=this.iy-this.cy;(Math.abs(t)>this.calibrationThreshold||Math.abs(e)>this.calibrationThreshold)&&this.queueCalibration(0),this.portrait?(this.mx=this.calibrateX?e:this.iy,this.my=this.calibrateY?t:this.ix):(this.mx=this.calibrateX?t:this.ix,this.my=this.calibrateY?e:this.iy),this.mx*=this.ew*(this.scalarX/100),this.my*=this.eh*(this.scalarY/100),isNaN(parseFloat(this.limitX))||(this.mx=this.clamp(this.mx,-this.limitX,this.limitX)),isNaN(parseFloat(this.limitY))||(this.my=this.clamp(this.my,-this.limitY,this.limitY)),this.vx+=(this.mx-this.vx)*this.frictionX,this.vy+=(this.my-this.vy)*this.frictionY;for(var i=0,n=this.$layers.length;n>i;i++){var r=this.depths[i],o=this.$layers[i],s=this.vx*r*(this.invertX?-1:1),a=this.vy*r*(this.invertY?-1:1);this.setPosition(o,s,a)}this.raf=requestAnimationFrame(this.onAnimationFrame)},r.prototype.onDeviceOrientation=function(t){if(!this.desktop&&null!==t.beta&&null!==t.gamma){this.orientationStatus=1;var i=(t.beta||0)/s,n=(t.gamma||0)/s,r=e.innerHeight>e.innerWidth;this.portrait!==r&&(this.portrait=r,this.calibrationFlag=!0),this.calibrationFlag&&(this.calibrationFlag=!1,this.cx=i,this.cy=n),this.ix=i,this.iy=n}},r.prototype.onMouseMove=function(t){var e=t.clientX,i=t.clientY;!this.orientationSupport&&this.relativeInput?(this.clipRelativeInput&&(e=Math.max(e,this.ex),e=Math.min(e,this.ex+this.ew),i=Math.max(i,this.ey),i=Math.min(i,this.ey+this.eh)),this.ix=(e-this.ex-this.ecx)/this.erx,this.iy=(i-this.ey-this.ecy)/this.ery):(this.ix=(e-this.wcx)/this.wrx,this.iy=(i-this.wcy)/this.wry)};var l={enable:r.prototype.enable,disable:r.prototype.disable,updateLayers:r.prototype.updateLayers,calibrate:r.prototype.calibrate,friction:r.prototype.friction,invert:r.prototype.invert,scalar:r.prototype.scalar,limit:r.prototype.limit,origin:r.prototype.origin};t.fn[o]=function(e){var i=arguments;return this.each(function(){var n=t(this),s=n.data(o);s||(s=new r(this,e),n.data(o,s)),l[e]&&s[e].apply(s,Array.prototype.slice.call(i,1))})}}(window.jQuery||window.Zepto,window,document),!function(t){function e(t,i){if(!(this instanceof e)){var n=new e(t,i);return n.open(),n}this.id=e.id++,this.setup(t,i),this.chainCallbacks(e._callbackChain)}if("undefined"==typeof t)return void("console"in window&&window.console.info("Too much lightness, Featherlight needs jQuery."));var i=[],n=function(e){return i=t.grep(i,function(t){return t!==e&&t.$instance.closest("body").length>0})},r=function(t,e){var i={},n=new RegExp("^"+e+"([A-Z])(.*)");for(var r in t){var o=r.match(n);if(o){var s=(o[1]+o[2].replace(/([A-Z])/g,"-$1")).toLowerCase();i[s]=t[r]}}return i},o={keyup:"onKeyUp",resize:"onResize"},s=function(i){t.each(e.opened().reverse(),function(){return i.isDefaultPrevented()||!1!==this[o[i.type]](i)?void 0:(i.preventDefault(),i.stopPropagation(),!1)})},a=function(i){if(i!==e._globalHandlerInstalled){e._globalHandlerInstalled=i;var n=t.map(o,function(t,i){return i+"."+e.prototype.namespace}).join(" ");t(window)[i?"on":"off"](n,s)}};e.prototype={constructor:e,namespace:"featherlight",targetAttr:"data-featherlight",variant:null,resetCss:!1,background:null,openTrigger:"click",closeTrigger:"click",filter:null,root:"body",openSpeed:250,closeSpeed:250,closeOnClick:"background",closeOnEsc:!0,closeIcon:"&#10005;",loading:"",persist:!1,otherClose:null,beforeOpen:t.noop,beforeContent:t.noop,beforeClose:t.noop,afterOpen:t.noop,afterContent:t.noop,afterClose:t.noop,onKeyUp:t.noop,onResize:t.noop,type:null,contentFilters:["jquery","image","html","ajax","iframe","text"],setup:function(e,i){"object"!=typeof e||e instanceof t!=0||i||(i=e,e=void 0);var n=t.extend(this,i,{target:e}),r=n.resetCss?n.namespace+"-reset":n.namespace,o=t(n.background||['<div class="'+r+"-loading "+r+'">','<div class="'+r+'-content">','<span class="'+r+"-close-icon "+n.namespace+'-close">',n.closeIcon,"</span>",'<div class="'+n.namespace+'-inner">'+n.loading+"</div>","</div>","</div>"].join("")),s="."+n.namespace+"-close"+(n.otherClose?","+n.otherClose:"");return n.$instance=o.clone().addClass(n.variant),n.$instance.on(n.closeTrigger+"."+n.namespace,function(e){var i=t(e.target);("background"===n.closeOnClick&&i.is("."+n.namespace)||"anywhere"===n.closeOnClick||i.closest(s).length)&&(n.close(e),e.preventDefault())}),this},getContent:function(){if(this.persist!==!1&&this.$content)return this.$content;var e=this,i=this.constructor.contentFilters,n=function(t){return e.$currentTarget&&e.$currentTarget.attr(t)},r=n(e.targetAttr),o=e.target||r||"",s=i[e.type];if(!s&&o in i&&(s=i[o],o=e.target&&r),o=o||n("href")||"",!s)for(var a in i)e[a]&&(s=i[a],o=e[a]);if(!s){var l=o;if(o=null,t.each(e.contentFilters,function(){return s=i[this],s.test&&(o=s.test(l)),!o&&s.regex&&l.match&&l.match(s.regex)&&(o=l),!o}),!o)return"console"in window&&window.console.error("Featherlight: no content filter found "+(l?' for "'+l+'"':" (no target specified)")),!1}return s.process.call(e,o)},setContent:function(e){var i=this;return(e.is("iframe")||t("iframe",e).length>0)&&i.$instance.addClass(i.namespace+"-iframe"),i.$instance.removeClass(i.namespace+"-loading"),i.$instance.find("."+i.namespace+"-inner").not(e).slice(1).remove().end().replaceWith(t.contains(i.$instance[0],e[0])?"":e),i.$content=e.addClass(i.namespace+"-inner"),i},open:function(e){var n=this;if(n.$instance.hide().appendTo(n.root),!(e&&e.isDefaultPrevented()||n.beforeOpen(e)===!1)){e&&e.preventDefault();var r=n.getContent();if(r)return i.push(n),a(!0),n.$instance.fadeIn(n.openSpeed),n.beforeContent(e),t.when(r).always(function(t){n.setContent(t),n.afterContent(e)}).then(n.$instance.promise()).done(function(){n.afterOpen(e)})}return n.$instance.detach(),t.Deferred().reject().promise()},close:function(e){var i=this,r=t.Deferred();return i.beforeClose(e)===!1?r.reject():(0===n(i).length&&a(!1),i.$instance.fadeOut(i.closeSpeed,function(){i.$instance.detach(),i.afterClose(e),r.resolve()})),r.promise()},resize:function(t,e){if(t&&e){this.$content.css("width","").css("height","");var i=Math.max(t/parseInt(this.$content.parent().css("width"),10),e/parseInt(this.$content.parent().css("height"),10));i>1&&this.$content.css("width",""+t/i+"px").css("height",""+e/i+"px")}},chainCallbacks:function(e){for(var i in e)this[i]=t.proxy(e[i],this,t.proxy(this[i],this))}},t.extend(e,{id:0,autoBind:"[data-featherlight]",defaults:e.prototype,contentFilters:{jquery:{regex:/^[#.]\w/,test:function(e){return e instanceof t&&e},process:function(e){return this.persist!==!1?t(e):t(e).clone(!0)}},image:{regex:/\.(png|jpg|jpeg|gif|tiff|bmp|svg)(\?\S*)?$/i,process:function(e){var i=this,n=t.Deferred(),r=new Image,o=t('<img src="'+e+'" alt="" class="'+i.namespace+'-image" />');return r.onload=function(){o.naturalWidth=r.width,o.naturalHeight=r.height,n.resolve(o)},r.onerror=function(){n.reject(o)},r.src=e,n.promise()}},html:{regex:/^\s*<[\w!][^<]*>/,process:function(e){return t(e)}},ajax:{regex:/./,process:function(e){var i=t.Deferred(),n=t("<div></div>").load(e,function(t,e){"error"!==e&&i.resolve(n.contents()),i.fail()});return i.promise()}},iframe:{process:function(e){var i=new t.Deferred,n=t("<iframe/>").hide().attr("src",e).css(r(this,"iframe")).on("load",function(){i.resolve(n.show())}).appendTo(this.$instance.find("."+this.namespace+"-content"));return i.promise()}},text:{process:function(e){return t("<div>",{text:e})}}},functionAttributes:["beforeOpen","afterOpen","beforeContent","afterContent","beforeClose","afterClose"],readElementConfig:function(e,i){var n=this,r=new RegExp("^data-"+i+"-(.*)"),o={};return e&&e.attributes&&t.each(e.attributes,function(){var e=this.name.match(r);if(e){var i=this.value,s=t.camelCase(e[1]);if(t.inArray(s,n.functionAttributes)>=0)i=new Function(i);else try{i=t.parseJSON(i)}catch(a){}o[s]=i}}),o},extend:function(e,i){var n=function(){this.constructor=e};return n.prototype=this.prototype,e.prototype=new n,e.__super__=this.prototype,t.extend(e,this,i),e.defaults=e.prototype,e},attach:function(e,i,n){var r=this;"object"!=typeof i||i instanceof t!=0||n||(n=i,i=void 0),n=t.extend({},n);var o,s=n.namespace||r.defaults.namespace,a=t.extend({},r.defaults,r.readElementConfig(e[0],s),n);return e.on(a.openTrigger+"."+a.namespace,a.filter,function(s){var l=t.extend({$source:e,$currentTarget:t(this)},r.readElementConfig(e[0],a.namespace),r.readElementConfig(this,a.namespace),n),c=o||t(this).data("featherlight-persisted")||new r(i,l);"shared"===c.persist?o=c:c.persist!==!1&&t(this).data("featherlight-persisted",c),l.$currentTarget.blur(),c.open(s)}),e},current:function(){var t=this.opened();return t[t.length-1]||null},opened:function(){var e=this;return n(),t.grep(i,function(t){return t instanceof e})},close:function(t){var e=this.current();return e?e.close(t):void 0},_onReady:function(){var e=this;e.autoBind&&(t(e.autoBind).each(function(){e.attach(t(this))}),t(document).on("click",e.autoBind,function(i){i.isDefaultPrevented()||"featherlight"===i.namespace||(i.preventDefault(),e.attach(t(i.currentTarget)),t(i.target).trigger("click.featherlight"))}))},_callbackChain:{onKeyUp:function(e,i){return 27===i.keyCode?(this.closeOnEsc&&t.featherlight.close(i),!1):e(i)},onResize:function(t,e){return this.resize(this.$content.naturalWidth,this.$content.naturalHeight),t(e)},afterContent:function(t,e){var i=t(e);return this.onResize(e),i}}}),t.featherlight=e,t.fn.featherlight=function(t,i){return e.attach(this,t,i)},t(document).ready(function(){e._onReady()})}(jQuery),/*! ScrollMagic v2.0.5 | (c) 2015 Jan Paepke (@janpaepke) | license & info: http://scrollmagic.io */
!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof exports?module.exports=e():t.ScrollMagic=e()}(this,function(){var t=function(){};t.version="2.0.5",window.addEventListener("mousewheel",function(){});var e="data-scrollmagic-pin-spacer";t.Controller=function(n){var o,s,a="ScrollMagic.Controller",l="FORWARD",c="REVERSE",h="PAUSED",u=i.defaults,d=this,f=r.extend({},u,n),p=[],g=!1,m=0,v=h,y=!0,w=0,b=!0,x=function(){for(var t in f)u.hasOwnProperty(t)||delete f[t];if(f.container=r.get.elements(f.container)[0],!f.container)throw a+" init failed.";y=f.container===window||f.container===document.body||!document.body.contains(f.container),y&&(f.container=window),w=E(),f.container.addEventListener("resize",F),f.container.addEventListener("scroll",F),f.refreshInterval=parseInt(f.refreshInterval)||u.refreshInterval,C()},C=function(){f.refreshInterval>0&&(s=window.setTimeout(k,f.refreshInterval))},T=function(){return f.vertical?r.get.scrollTop(f.container):r.get.scrollLeft(f.container)},E=function(){return f.vertical?r.get.height(f.container):r.get.width(f.container)},S=this._setScrollPos=function(t){f.vertical?y?window.scrollTo(r.get.scrollLeft(),t):f.container.scrollTop=t:y?window.scrollTo(t,r.get.scrollTop()):f.container.scrollLeft=t},_=function(){if(b&&g){var t=r.type.Array(g)?g:p.slice(0);g=!1;var e=m;m=d.scrollPos();var i=m-e;0!==i&&(v=i>0?l:c),v===c&&t.reverse(),t.forEach(function(t){t.update(!0)})}},L=function(){o=r.rAF(_)},F=function(t){"resize"==t.type&&(w=E(),v=h),g!==!0&&(g=!0,L())},k=function(){if(!y&&w!=E()){var t;try{t=new Event("resize",{bubbles:!1,cancelable:!1})}catch(e){t=document.createEvent("Event"),t.initEvent("resize",!1,!1)}f.container.dispatchEvent(t)}p.forEach(function(t){t.refresh()}),C()};this._options=f;var z=function(t){if(t.length<=1)return t;var e=t.slice(0);return e.sort(function(t,e){return t.scrollOffset()>e.scrollOffset()?1:-1}),e};return this.addScene=function(e){if(r.type.Array(e))e.forEach(function(t){d.addScene(t)});else if(e instanceof t.Scene)if(e.controller()!==d)e.addTo(d);else if(p.indexOf(e)<0){p.push(e),p=z(p),e.on("shift.controller_sort",function(){p=z(p)});for(var i in f.globalSceneOptions)e[i]&&e[i].call(e,f.globalSceneOptions[i])}return d},this.removeScene=function(t){if(r.type.Array(t))t.forEach(function(t){d.removeScene(t)});else{var e=p.indexOf(t);e>-1&&(t.off("shift.controller_sort"),p.splice(e,1),t.remove())}return d},this.updateScene=function(e,i){return r.type.Array(e)?e.forEach(function(t){d.updateScene(t,i)}):i?e.update(!0):g!==!0&&e instanceof t.Scene&&(g=g||[],-1==g.indexOf(e)&&g.push(e),g=z(g),L()),d},this.update=function(t){return F({type:"resize"}),t&&_(),d},this.scrollTo=function(i,n){if(r.type.Number(i))S.call(f.container,i,n);else if(i instanceof t.Scene)i.controller()===d&&d.scrollTo(i.scrollOffset(),n);else if(r.type.Function(i))S=i;else{var o=r.get.elements(i)[0];if(o){for(;o.parentNode.hasAttribute(e);)o=o.parentNode;var s=f.vertical?"top":"left",a=r.get.offset(f.container),l=r.get.offset(o);y||(a[s]-=d.scrollPos()),d.scrollTo(l[s]-a[s],n)}}return d},this.scrollPos=function(t){return arguments.length?(r.type.Function(t)&&(T=t),d):T.call(d)},this.info=function(t){var e={size:w,vertical:f.vertical,scrollPos:m,scrollDirection:v,container:f.container,isDocument:y};return arguments.length?void 0!==e[t]?e[t]:void 0:e},this.loglevel=function(){return d},this.enabled=function(t){return arguments.length?(b!=t&&(b=!!t,d.updateScene(p,!0)),d):b},this.destroy=function(t){window.clearTimeout(s);for(var e=p.length;e--;)p[e].destroy(t);return f.container.removeEventListener("resize",F),f.container.removeEventListener("scroll",F),r.cAF(o),null},x(),d};var i={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};t.Controller.addOption=function(t,e){i.defaults[t]=e},t.Controller.extend=function(e){var i=this;t.Controller=function(){return i.apply(this,arguments),this.$super=r.extend({},this),e.apply(this,arguments)||this},r.extend(t.Controller,i),t.Controller.prototype=i.prototype,t.Controller.prototype.constructor=t.Controller},t.Scene=function(i){var o,s,a="BEFORE",l="DURING",c="AFTER",h=n.defaults,u=this,d=r.extend({},h,i),f=a,p=0,g={start:0,end:0},m=0,v=!0,y=function(){for(var t in d)h.hasOwnProperty(t)||delete d[t];for(var e in h)L(e);S()},w={};this.on=function(t,e){return r.type.Function(e)&&(t=t.trim().split(" "),t.forEach(function(t){var i=t.split("."),n=i[0],r=i[1];"*"!=n&&(w[n]||(w[n]=[]),w[n].push({namespace:r||"",callback:e}))})),u},this.off=function(t,e){return t?(t=t.trim().split(" "),t.forEach(function(t){var i=t.split("."),n=i[0],r=i[1]||"",o="*"===n?Object.keys(w):[n];o.forEach(function(t){for(var i=w[t]||[],n=i.length;n--;){var o=i[n];!o||r!==o.namespace&&"*"!==r||e&&e!=o.callback||i.splice(n,1)}i.length||delete w[t]})}),u):u},this.trigger=function(e,i){if(e){var n=e.trim().split("."),r=n[0],o=n[1],s=w[r];s&&s.forEach(function(e){o&&o!==e.namespace||e.callback.call(u,new t.Event(r,e.namespace,u,i))})}return u},u.on("change.internal",function(t){"loglevel"!==t.what&&"tweenChanges"!==t.what&&("triggerElement"===t.what?C():"reverse"===t.what&&u.update())}).on("shift.internal",function(){b(),u.update()}),this.addTo=function(e){return e instanceof t.Controller&&s!=e&&(s&&s.removeScene(u),s=e,S(),x(!0),C(!0),b(),s.info("container").addEventListener("resize",T),e.addScene(u),u.trigger("add",{controller:s}),u.update()),u},this.enabled=function(t){return arguments.length?(v!=t&&(v=!!t,u.update(!0)),u):v},this.remove=function(){if(s){s.info("container").removeEventListener("resize",T);var t=s;s=void 0,t.removeScene(u),u.trigger("remove")}return u},this.destroy=function(t){return u.trigger("destroy",{reset:t}),u.remove(),u.off("*.*"),null},this.update=function(t){if(s)if(t)if(s.enabled()&&v){var e,i=s.info("scrollPos");e=d.duration>0?(i-g.start)/(g.end-g.start):i>=g.start?1:0,u.trigger("update",{startPos:g.start,endPos:g.end,scrollPos:i}),u.progress(e)}else F&&f===l&&z(!0);else s.updateScene(u,!1);return u},this.refresh=function(){return x(),C(),u},this.progress=function(t){if(arguments.length){var e=!1,i=f,n=s?s.info("scrollDirection"):"PAUSED",r=d.reverse||t>=p;if(0===d.duration?(e=p!=t,p=1>t&&r?0:1,f=0===p?a:l):0>t&&f!==a&&r?(p=0,f=a,e=!0):t>=0&&1>t&&r?(p=t,f=l,e=!0):t>=1&&f!==c?(p=1,f=c,e=!0):f!==l||r||z(),e){var o={progress:p,state:f,scrollDirection:n},h=f!=i,g=function(t){u.trigger(t,o)};h&&i!==l&&(g("enter"),g(i===a?"start":"end")),g("progress"),h&&f!==l&&(g(f===a?"start":"end"),g("leave"))}return u}return p};var b=function(){g={start:m+d.offset},s&&d.triggerElement&&(g.start-=s.info("size")*d.triggerHook),g.end=g.start+d.duration},x=function(t){if(o){var e="duration";_(e,o.call(u))&&!t&&(u.trigger("change",{what:e,newval:d[e]}),u.trigger("shift",{reason:e}))}},C=function(t){var i=0,n=d.triggerElement;if(s&&n){for(var o=s.info(),a=r.get.offset(o.container),l=o.vertical?"top":"left";n.parentNode.hasAttribute(e);)n=n.parentNode;var c=r.get.offset(n);o.isDocument||(a[l]-=s.scrollPos()),i=c[l]-a[l]}var h=i!=m;m=i,h&&!t&&u.trigger("shift",{reason:"triggerElementPosition"})},T=function(){d.triggerHook>0&&u.trigger("shift",{reason:"containerResize"})},E=r.extend(n.validate,{duration:function(t){if(r.type.String(t)&&t.match(/^(\.|\d)*\d+%$/)){var e=parseFloat(t)/100;t=function(){return s?s.info("size")*e:0}}if(r.type.Function(t)){o=t;try{t=parseFloat(o())}catch(i){t=-1}}if(t=parseFloat(t),!r.type.Number(t)||0>t)throw o?(o=void 0,0):0;return t}}),S=function(t){t=arguments.length?[t]:Object.keys(E),t.forEach(function(t){var e;if(E[t])try{e=E[t](d[t])}catch(i){e=h[t]}finally{d[t]=e}})},_=function(t,e){var i=!1,n=d[t];return d[t]!=e&&(d[t]=e,S(t),i=n!=d[t]),i},L=function(t){u[t]||(u[t]=function(e){return arguments.length?("duration"===t&&(o=void 0),_(t,e)&&(u.trigger("change",{what:t,newval:d[t]}),n.shifts.indexOf(t)>-1&&u.trigger("shift",{reason:t})),u):d[t]})};this.controller=function(){return s},this.state=function(){return f},this.scrollOffset=function(){return g.start},this.triggerPosition=function(){var t=d.offset;return s&&(t+=d.triggerElement?m:s.info("size")*u.triggerHook()),t};var F,k;u.on("shift.internal",function(t){var e="duration"===t.reason;(f===c&&e||f===l&&0===d.duration)&&z(),e&&$()}).on("progress.internal",function(){z()}).on("add.internal",function(){$()}).on("destroy.internal",function(t){u.removePin(t.reset)});var z=function(t){if(F&&s){var e=s.info(),i=k.spacer.firstChild;if(t||f!==l){var n={position:k.inFlow?"relative":"absolute",top:0,left:0},o=r.css(i,"position")!=n.position;k.pushFollowers?d.duration>0&&(f===c&&0===parseFloat(r.css(k.spacer,"padding-top"))?o=!0:f===a&&0===parseFloat(r.css(k.spacer,"padding-bottom"))&&(o=!0)):n[e.vertical?"top":"left"]=d.duration*p,r.css(i,n),o&&$()}else{"fixed"!=r.css(i,"position")&&(r.css(i,{position:"fixed"}),$());var h=r.get.offset(k.spacer,!0),u=d.reverse||0===d.duration?e.scrollPos-g.start:Math.round(p*d.duration*10)/10;h[e.vertical?"top":"left"]+=u,r.css(k.spacer.firstChild,{top:h.top,left:h.left})}}},$=function(){if(F&&s&&k.inFlow){var t=f===l,e=s.info("vertical"),i=k.spacer.firstChild,n=r.isMarginCollapseType(r.css(k.spacer,"display")),o={};k.relSize.width||k.relSize.autoFullWidth?t?r.css(F,{width:r.get.width(k.spacer)}):r.css(F,{width:"100%"}):(o["min-width"]=r.get.width(e?F:i,!0,!0),o.width=t?o["min-width"]:"auto"),k.relSize.height?t?r.css(F,{height:r.get.height(k.spacer)-(k.pushFollowers?d.duration:0)}):r.css(F,{height:"100%"}):(o["min-height"]=r.get.height(e?i:F,!0,!n),o.height=t?o["min-height"]:"auto"),k.pushFollowers&&(o["padding"+(e?"Top":"Left")]=d.duration*p,o["padding"+(e?"Bottom":"Right")]=d.duration*(1-p)),r.css(k.spacer,o)}},D=function(){s&&F&&f===l&&!s.info("isDocument")&&z()},M=function(){s&&F&&f===l&&((k.relSize.width||k.relSize.autoFullWidth)&&r.get.width(window)!=r.get.width(k.spacer.parentNode)||k.relSize.height&&r.get.height(window)!=r.get.height(k.spacer.parentNode))&&$()},O=function(t){s&&F&&f===l&&!s.info("isDocument")&&(t.preventDefault(),s._setScrollPos(s.info("scrollPos")-((t.wheelDelta||t[s.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-t.detail)))};this.setPin=function(t,i){var n={pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"};if(i=r.extend({},n,i),t=r.get.elements(t)[0],!t)return u;if("fixed"===r.css(t,"position"))return u;if(F){if(F===t)return u;u.removePin()}F=t;var o=F.parentNode.style.display,s=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];F.parentNode.style.display="none";var a="absolute"!=r.css(F,"position"),l=r.css(F,s.concat(["display"])),c=r.css(F,["width","height"]);F.parentNode.style.display=o,!a&&i.pushFollowers&&(i.pushFollowers=!1);var h=F.parentNode.insertBefore(document.createElement("div"),F),d=r.extend(l,{position:a?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(a||r.extend(d,r.css(F,["width","height"])),r.css(h,d),h.setAttribute(e,""),r.addClass(h,i.spacerClass),k={spacer:h,relSize:{width:"%"===c.width.slice(-1),height:"%"===c.height.slice(-1),autoFullWidth:"auto"===c.width&&a&&r.isMarginCollapseType(l.display)},pushFollowers:i.pushFollowers,inFlow:a},!F.___origStyle){F.___origStyle={};var f=F.style,p=s.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]);p.forEach(function(t){F.___origStyle[t]=f[t]||""})}return k.relSize.width&&r.css(h,{width:c.width}),k.relSize.height&&r.css(h,{height:c.height}),h.appendChild(F),r.css(F,{position:a?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(k.relSize.width||k.relSize.autoFullWidth)&&r.css(F,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",D),window.addEventListener("resize",D),window.addEventListener("resize",M),F.addEventListener("mousewheel",O),F.addEventListener("DOMMouseScroll",O),z(),u},this.removePin=function(t){if(F){if(f===l&&z(!0),t||!s){var i=k.spacer.firstChild;if(i.hasAttribute(e)){var n=k.spacer.style,o=["margin","marginLeft","marginRight","marginTop","marginBottom"];margins={},o.forEach(function(t){margins[t]=n[t]||""}),r.css(i,margins)}k.spacer.parentNode.insertBefore(i,k.spacer),k.spacer.parentNode.removeChild(k.spacer),F.parentNode.hasAttribute(e)||(r.css(F,F.___origStyle),delete F.___origStyle)}window.removeEventListener("scroll",D),window.removeEventListener("resize",D),window.removeEventListener("resize",M),F.removeEventListener("mousewheel",O),F.removeEventListener("DOMMouseScroll",O),F=void 0}return u};var A,P=[];return u.on("destroy.internal",function(t){u.removeClassToggle(t.reset)}),this.setClassToggle=function(t,e){var i=r.get.elements(t);return 0!==i.length&&r.type.String(e)?(P.length>0&&u.removeClassToggle(),A=e,P=i,u.on("enter.internal_class leave.internal_class",function(t){var e="enter"===t.type?r.addClass:r.removeClass;P.forEach(function(t){e(t,A)})}),u):u},this.removeClassToggle=function(t){return t&&P.forEach(function(t){r.removeClass(t,A)}),u.off("start.internal_class end.internal_class"),A=void 0,P=[],u},y(),u};var n={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(t){if(t=parseFloat(t),!r.type.Number(t))throw 0;return t},triggerElement:function(t){if(t=t||void 0){var e=r.get.elements(t)[0];if(!e)throw 0;t=e}return t},triggerHook:function(t){var e={onCenter:.5,onEnter:1,onLeave:0};if(r.type.Number(t))t=Math.max(0,Math.min(parseFloat(t),1));else{if(!(t in e))throw 0;t=e[t]}return t},reverse:function(t){return!!t}},shifts:["duration","offset","triggerHook"]};t.Scene.addOption=function(t,e,i,r){t in n.defaults||(n.defaults[t]=e,n.validate[t]=i,r&&n.shifts.push(t))},t.Scene.extend=function(e){var i=this;t.Scene=function(){return i.apply(this,arguments),this.$super=r.extend({},this),e.apply(this,arguments)||this},r.extend(t.Scene,i),t.Scene.prototype=i.prototype,t.Scene.prototype.constructor=t.Scene},t.Event=function(t,e,i,n){n=n||{};for(var r in n)this[r]=n[r];return this.type=t,this.target=this.currentTarget=i,this.namespace=e||"",this.timeStamp=this.timestamp=Date.now(),this};var r=t._util=function(t){var e,i={},n=function(t){return parseFloat(t)||0},r=function(e){return e.currentStyle?e.currentStyle:t.getComputedStyle(e)},o=function(e,i,o,s){if(i=i===document?t:i,i===t)s=!1;else if(!u.DomElement(i))return 0;e=e.charAt(0).toUpperCase()+e.substr(1).toLowerCase();var a=(o?i["offset"+e]||i["outer"+e]:i["client"+e]||i["inner"+e])||0;if(o&&s){var l=r(i);a+="Height"===e?n(l.marginTop)+n(l.marginBottom):n(l.marginLeft)+n(l.marginRight)}return a},s=function(t){return t.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})};i.extend=function(t){for(t=t||{},e=1;e<arguments.length;e++)if(arguments[e])for(var i in arguments[e])arguments[e].hasOwnProperty(i)&&(t[i]=arguments[e][i]);return t},i.isMarginCollapseType=function(t){return["block","flex","list-item","table","-webkit-box"].indexOf(t)>-1};var a=0,l=["ms","moz","webkit","o"],c=t.requestAnimationFrame,h=t.cancelAnimationFrame;for(e=0;!c&&e<l.length;++e)c=t[l[e]+"RequestAnimationFrame"],h=t[l[e]+"CancelAnimationFrame"]||t[l[e]+"CancelRequestAnimationFrame"];c||(c=function(e){var i=(new Date).getTime(),n=Math.max(0,16-(i-a)),r=t.setTimeout(function(){e(i+n)},n);return a=i+n,r}),h||(h=function(e){t.clearTimeout(e)}),i.rAF=c.bind(t),i.cAF=h.bind(t);var u=i.type=function(t){return Object.prototype.toString.call(t).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};u.String=function(t){return"string"===u(t)},u.Function=function(t){return"function"===u(t)},u.Array=function(t){return Array.isArray(t)},u.Number=function(t){return!u.Array(t)&&t-parseFloat(t)+1>=0},u.DomElement=function(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName};var d=i.get={};return d.elements=function(e){var i=[];if(u.String(e))try{e=document.querySelectorAll(e)}catch(n){return i}if("nodelist"===u(e)||u.Array(e))for(var r=0,o=i.length=e.length;o>r;r++){var s=e[r];i[r]=u.DomElement(s)?s:d.elements(s)}else(u.DomElement(e)||e===document||e===t)&&(i=[e]);return i},d.scrollTop=function(e){return e&&"number"==typeof e.scrollTop?e.scrollTop:t.pageYOffset||0},d.scrollLeft=function(e){return e&&"number"==typeof e.scrollLeft?e.scrollLeft:t.pageXOffset||0},d.width=function(t,e,i){return o("width",t,e,i)},d.height=function(t,e,i){return o("height",t,e,i)},d.offset=function(t,e){var i={top:0,left:0};if(t&&t.getBoundingClientRect){var n=t.getBoundingClientRect();i.top=n.top,i.left=n.left,e||(i.top+=d.scrollTop(),i.left+=d.scrollLeft())}return i},i.addClass=function(t,e){e&&(t.classList?t.classList.add(e):t.className+=" "+e)},i.removeClass=function(t,e){e&&(t.classList?t.classList.remove(e):t.className=t.className.replace(RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "))},i.css=function(t,e){if(u.String(e))return r(t)[s(e)];if(u.Array(e)){var i={},n=r(t);return e.forEach(function(t){i[t]=n[s(t)]}),i}for(var o in e){var a=e[o];a==parseFloat(a)&&(a+="px"),t.style[s(o)]=a}},i}(window||{});return t}),/*! ScrollMagic v2.0.5 | (c) 2015 Jan Paepke (@janpaepke) | license & info: http://scrollmagic.io */
!function(t,e){"function"==typeof define&&define.amd?define(["ScrollMagic","TweenMax","TimelineMax"],e):"object"==typeof exports?(require("gsap"),e(require("scrollmagic"),TweenMax,TimelineMax)):e(t.ScrollMagic||t.jQuery&&t.jQuery.ScrollMagic,t.TweenMax||t.TweenLite,t.TimelineMax||t.TimelineLite)}(this,function(t,e,i){t.Scene.addOption("tweenChanges",!1,function(t){return!!t}),t.Scene.extend(function(){var t,n=this;n.on("progress.plugin_gsap",function(){r()}),n.on("destroy.plugin_gsap",function(t){n.removeTween(t.reset)});var r=function(){if(t){var e=n.progress(),i=n.state();t.repeat&&-1===t.repeat()?"DURING"===i&&t.paused()?t.play():"DURING"===i||t.paused()||t.pause():e!=t.progress()&&(0===n.duration()?e>0?t.play():t.reverse():n.tweenChanges()&&t.tweenTo?t.tweenTo(e*t.duration()):t.progress(e).pause())}};n.setTween=function(o,s,a){var l;arguments.length>1&&(arguments.length<3&&(a=s,s=1),o=e.to(o,s,a));try{l=i?new i({smoothChildTiming:!0}).add(o):o,l.pause()}catch(c){return n}return t&&n.removeTween(),t=l,o.repeat&&-1===o.repeat()&&(t.repeat(-1),t.yoyo(o.yoyo())),r(),n},n.removeTween=function(e){return t&&(e&&t.progress(0).pause(),t.kill(),t=void 0),n}})}),/*! ScrollMagic v2.0.5 | (c) 2015 Jan Paepke (@janpaepke) | license & info: http://scrollmagic.io */
!function(t,e){"function"==typeof define&&define.amd?define(["ScrollMagic"],e):e("object"==typeof exports?require("scrollmagic"):t.ScrollMagic||t.jQuery&&t.jQuery.ScrollMagic)}(this,function(t){var e="0.85em",i="9999",n=15,r=t._util,o=0;t.Scene.extend(function(){var t,e=this;e.addIndicators=function(i){if(!t){var n={name:"",indent:0,parent:void 0,colorStart:"green",colorEnd:"red",colorTrigger:"blue"};i=r.extend({},n,i),o++,t=new s(e,i),e.on("add.plugin_addIndicators",t.add),e.on("remove.plugin_addIndicators",t.remove),e.on("destroy.plugin_addIndicators",e.removeIndicators),e.controller()&&t.add()}return e},e.removeIndicators=function(){return t&&(t.remove(),this.off("*.plugin_addIndicators"),t=void 0),e}}),t.Controller.addOption("addIndicators",!1),t.Controller.extend(function(){var e=this,i=e.info(),o=i.container,s=i.isDocument,a=i.vertical,l={groups:[]};this._indicators=l;var c=function(){l.updateBoundsPositions()},h=function(){l.updateTriggerGroupPositions()};return o.addEventListener("resize",h),s||(window.addEventListener("resize",h),window.addEventListener("scroll",h)),o.addEventListener("resize",c),o.addEventListener("scroll",c),this._indicators.updateBoundsPositions=function(t){for(var e,i,s,c=t?[r.extend({},t.triggerGroup,{members:[t]})]:l.groups,h=c.length,u={},d=a?"left":"top",f=a?"width":"height",p=a?r.get.scrollLeft(o)+r.get.width(o)-n:r.get.scrollTop(o)+r.get.height(o)-n;h--;)for(s=c[h],e=s.members.length,i=r.get[f](s.element.firstChild);e--;)u[d]=p-i,r.css(s.members[e].bounds,u)},this._indicators.updateTriggerGroupPositions=function(t){for(var i,c,h,u,d,f=t?[t]:l.groups,p=f.length,g=s?document.body:o,m=s?{top:0,left:0}:r.get.offset(g,!0),v=a?r.get.width(o)-n:r.get.height(o)-n,y=a?"width":"height",w=a?"Y":"X";p--;)i=f[p],c=i.element,h=i.triggerHook*e.info("size"),u=r.get[y](c.firstChild.firstChild),d=h>u?"translate"+w+"(-100%)":"",r.css(c,{top:m.top+(a?h:v-i.members[0].options.indent),left:m.left+(a?v-i.members[0].options.indent:h)}),r.css(c.firstChild.firstChild,{"-ms-transform":d,"-webkit-transform":d,transform:d})},this._indicators.updateTriggerGroupLabel=function(t){var e="trigger"+(t.members.length>1?"":" "+t.members[0].options.name),i=t.element.firstChild.firstChild,n=i.textContent!==e;n&&(i.textContent=e,a&&l.updateBoundsPositions())},this.addScene=function(i){this._options.addIndicators&&i instanceof t.Scene&&i.controller()===e&&i.addIndicators(),this.$super.addScene.apply(this,arguments)},this.destroy=function(){o.removeEventListener("resize",h),s||(window.removeEventListener("resize",h),window.removeEventListener("scroll",h)),o.removeEventListener("resize",c),o.removeEventListener("scroll",c),this.$super.destroy.apply(this,arguments)},e});var s=function(t,e){var i,n,s=this,l=a.bounds(),c=a.start(e.colorStart),h=a.end(e.colorEnd),u=e.parent&&r.get.elements(e.parent)[0];e.name=e.name||o,c.firstChild.textContent+=" "+e.name,h.textContent+=" "+e.name,l.appendChild(c),l.appendChild(h),s.options=e,s.bounds=l,s.triggerGroup=void 0,this.add=function(){n=t.controller(),i=n.info("vertical");var e=n.info("isDocument");u||(u=e?document.body:n.info("container")),e||"static"!==r.css(u,"position")||r.css(u,{position:"relative"}),t.on("change.plugin_addIndicators",f),t.on("shift.plugin_addIndicators",d),w(),m(),setTimeout(function(){n._indicators.updateBoundsPositions(s)},0)},this.remove=function(){if(s.triggerGroup){if(t.off("change.plugin_addIndicators",f),t.off("shift.plugin_addIndicators",d),s.triggerGroup.members.length>1){var e=s.triggerGroup;e.members.splice(e.members.indexOf(s),1),n._indicators.updateTriggerGroupLabel(e),n._indicators.updateTriggerGroupPositions(e),s.triggerGroup=void 0}else y();g()}};var d=function(){m()},f=function(t){"triggerHook"===t.what&&w()},p=function(){var t=n.info("vertical");r.css(c.firstChild,{"border-bottom-width":t?1:0,"border-right-width":t?0:1,bottom:t?-1:e.indent,right:t?e.indent:-1,padding:t?"0 8px":"2px 4px"}),r.css(h,{"border-top-width":t?1:0,"border-left-width":t?0:1,top:t?"100%":"",right:t?e.indent:"",bottom:t?"":e.indent,left:t?"":"100%",padding:t?"0 8px":"2px 4px"}),u.appendChild(l)},g=function(){l.parentNode.removeChild(l)},m=function(){l.parentNode!==u&&p();var e={};e[i?"top":"left"]=t.triggerPosition(),e[i?"height":"width"]=t.duration(),r.css(l,e),r.css(h,{display:t.duration()>0?"":"none"})},v=function(){var o=a.trigger(e.colorTrigger),l={};l[i?"right":"bottom"]=0,l[i?"border-top-width":"border-left-width"]=1,r.css(o.firstChild,l),r.css(o.firstChild.firstChild,{padding:i?"0 8px 3px 8px":"3px 4px"}),document.body.appendChild(o);var c={triggerHook:t.triggerHook(),element:o,members:[s]};n._indicators.groups.push(c),s.triggerGroup=c,n._indicators.updateTriggerGroupLabel(c),n._indicators.updateTriggerGroupPositions(c)},y=function(){n._indicators.groups.splice(n._indicators.groups.indexOf(s.triggerGroup),1),s.triggerGroup.element.parentNode.removeChild(s.triggerGroup.element),s.triggerGroup=void 0},w=function(){var e=t.triggerHook(),i=1e-4;if(!(s.triggerGroup&&Math.abs(s.triggerGroup.triggerHook-e)<i)){for(var r,o=n._indicators.groups,a=o.length;a--;)if(r=o[a],Math.abs(r.triggerHook-e)<i)return s.triggerGroup&&(1===s.triggerGroup.members.length?y():(s.triggerGroup.members.splice(s.triggerGroup.members.indexOf(s),1),n._indicators.updateTriggerGroupLabel(s.triggerGroup),n._indicators.updateTriggerGroupPositions(s.triggerGroup))),r.members.push(s),s.triggerGroup=r,void n._indicators.updateTriggerGroupLabel(r);if(s.triggerGroup){if(1===s.triggerGroup.members.length)return s.triggerGroup.triggerHook=e,void n._indicators.updateTriggerGroupPositions(s.triggerGroup);s.triggerGroup.members.splice(s.triggerGroup.members.indexOf(s),1),n._indicators.updateTriggerGroupLabel(s.triggerGroup),n._indicators.updateTriggerGroupPositions(s.triggerGroup),s.triggerGroup=void 0}v()}}},a={start:function(t){var e=document.createElement("div");e.textContent="start",r.css(e,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:t,"border-color":t});var i=document.createElement("div");return r.css(i,{position:"absolute",overflow:"visible",width:0,height:0}),i.appendChild(e),i},end:function(t){var e=document.createElement("div");return e.textContent="end",r.css(e,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:t,"border-color":t}),e},bounds:function(){var t=document.createElement("div");return r.css(t,{position:"absolute",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":e}),t.style.zIndex=i,t},trigger:function(t){var n=document.createElement("div");n.textContent="trigger",r.css(n,{position:"relative"});var o=document.createElement("div");r.css(o,{position:"absolute",overflow:"visible","border-width":0,"border-style":"solid",color:t,"border-color":t}),o.appendChild(n);var s=document.createElement("div");return r.css(s,{position:"fixed",overflow:"visible","white-space":"nowrap","pointer-events":"none","font-size":e}),s.style.zIndex=i,s.appendChild(o),s}}}),function(t){function e(){var e=new ScrollMagic.Controller;t(".theme").each(function(){var i=TweenLite.from(this,1,{opacity:0});new ScrollMagic.Scene({triggerElement:this,triggerHook:.5,offset:0,duration:t(this).height()}).setTween(i).addTo(e),new ScrollMagic.Scene({triggerElement:this,triggerHook:.5,offset:0,duration:3*t(this).height()}).setClassToggle(this,"active_video").addTo(e)});var i=t("#bgimage").height(),n=TweenLite.to(t("#bgimage"),1,{y:"-="+i/2,ease:Linear.easeNone});new ScrollMagic.Scene({duration:2*t(document).height(),triggerElement:"body",triggerHook:.5}).setTween(n).addTo(e)}function i(){t(".video-js").each(function(e){var i=t(this).attr("id"),n=t(this).parents(".main_video");videojs(i).ready(function(){this.on("play",function(i){t(n).addClass("playing"),t(n).removeClass("paused"),t(".video-js").each(function(t){e!==t&&this.player.pause()})}),this.on("pause",function(e){t(n).removeClass("playing"),t(n).addClass("paused")})})})}function n(){var e=!1;t(".cd-nav-trigger").on("click",function(i){i.preventDefault(),e||(t(this).parents(".csstransitions").length>0&&(e=!0),t("body").toggleClass("navigation-is-open"),t(".cd-navigation-wrapper").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){e=!1}))})}function r(){t("#theme_nav li a").click(function(e){e.preventDefault(),t(".mainMenu a").removeClass("active"),t(this).addClass("active");var i=t("#"+t(this).data("target")).offset().top;t("body, html").animate({scrollTop:i},"slow")})}function o(){var e=t(".backToTop"),i=t(window).height();e.hide();for(var n=t("#theme_nav li").children(),r=[],o=0;o<n.length;o++){var s=n[o],a=t(s).attr("href");r.push(a)}t(window).scroll(function(){var n=t(window).scrollTop();n>i?e.fadeIn("slow"):e.fadeOut("slow");for(var o=t(window).height(),s=t(document).height(),a=0;a<r.length;a++){var l=r[a],c=t(l).offset().top,h=t(l).height();n>=c&&c+h>n?t("#theme_nav a[href='"+l+"']").addClass("active"):t("#theme_nav a[href='"+l+"']").removeClass("active")}if(n+o==s&&!t("#theme_nav li:last-child a").hasClass("active")){var u=t(".active").attr("href");t("#theme_nav a[href='"+u+"']").removeClass("active"),t("#theme_nav li:last-child a").addClass("active")}}),e.click(function(e){e.preventDefault(),t(" #theme_nav li a ").removeClass("active"),t(" #theme_nav li a:first ").addClass("active"),t(" body, html ").animate({scrollTop:0},"slow")})}t("#scene").parallax({relativeInput:!1,clipRelativeInput:!1,calibrationThreshold:100,calibrationDelay:500,supportDelay:500,calibrateX:!1,calibrateY:!0,invertX:!0,invertY:!0,limitX:!1,limitY:!1,scalarX:5,scalarY:5,frictionX:.1,frictionY:.1,originX:.5,originY:.5}),t("#chapter").length>0&&(e(),i()),t(window).scroll(function(){}),t(document).ready(function(){r(),o(),n()}),t("#flat").flipster({style:"flat",buttons:!0,scrollwheel:!1,spacing:0})}(jQuery);var Modal=function(){function t(t){return document.querySelectorAll(t)}var e=t(".modal__trigger"),i=t(".modal"),n=t(".modal__bg"),r=t(".modal__content"),o=t(".modal__close"),s=window,a=!1,l=400,c=e.length,h=function(t){t.preventDefault();var e=this,i=e.dataset.modal,n=i.length,r=i.substring(1,n),o=document.getElementById(r);u(e,o)},u=function(t,e){var i=document.getElementById("modal__temp");if(null===i){var n=document.createElement("div");n.id="modal__temp",t.appendChild(n),d(t,e,n)}},d=function(t,e,i){var n,r,o,a,c=t.getBoundingClientRect(),h=e,u=h.querySelector(".modal__content").getBoundingClientRect(),d=s.innerWidth/2,p=s.innerHeight/2;t.classList.add("modal__trigger--active"),o=u.width/c.width,a=u.height/c.height,o=o.toFixed(3),a=a.toFixed(3),n=Math.round(d-c.left-c.width/2),r=Math.round(p-c.top-c.height/2),h.classList.contains("modal--align-top")&&(r=Math.round(u.height/2+u.top-c.top-c.height/2)),t.style.transform="translate("+n+"px, "+r+"px)",t.style.webkitTransform="translate("+n+"px, "+r+"px)",i.style.transform="scale("+o+","+a+")",i.style.webkitTransform="scale("+o+","+a+")",window.setTimeout(function(){window.requestAnimationFrame(function(){f(h,i)})},l)},f=function(t,e){function i(){e.style.opacity="0",n.removeEventListener("transitionend",i,!1)}if(!a){var n=t.querySelector(".modal__content");t.classList.add("modal--active"),n.classList.add("modal__content--active"),n.addEventListener("transitionend",i,!1),a=!0}},p=function(t){function n(){$(".video-js").each(function(t){0!==$(this).parents(".modal--active").length&&($(this).paused||this.player.pause())})}function o(){setTimeout(function(){window.requestAnimationFrame(function(){h.remove()})},l-50)}t.preventDefault(),t.stopImmediatePropagation();var s=t.target,h=document.getElementById("modal__temp");if(a&&s.classList.contains("modal__bg")||s.classList.contains("modal__close")){h.style.opacity="1",h.removeAttribute("style"),n();for(var u=0;c>u;u++)i[u].classList.remove("modal--active"),r[u].classList.remove("modal__content--active"),e[u].style.transform="none",e[u].style.webkitTransform="none",e[u].classList.remove("modal__trigger--active");h.addEventListener("transitionend",o,!1),a=!1}},g=function(){for(var t=0;c>t;t++)e[t].addEventListener("click",h,!1),o[t].addEventListener("click",p,!1),n[t].addEventListener("click",p,!1)},m=function(){g()};return{init:m}}();Modal.init();